# **《艺文志》书籍推荐小程序文档**

## 1. **项目介绍**

### 1.1.项目目的

求学必从读书开始。但书籍之多往往让人眼花缭乱，无从下手，加之各色出版物鱼龙混杂，常令人感到头疼。倘欲了解某门类，又常乏贤师引介，随手购书，难保不会误入歧途。故生一念，将诸类良书按从入门到进阶拟为书单，并附有简介，读者可省盲目挑选之繁苦，不妨聊目之为赛博艺文志也。又如《礼记》言，“独学而无友，则孤陋而寡闻”，故加上了发帖、评论功能，读者可共书友校雠铅椠、执经问难、染翰操觚，拾此阶上，当日有精进。

### 1.2.小组构成

* 成员分工：
  * 前端：王利亮、尹文熠、陈泓雨、王骏佳
  * 后端：梁安然

### 1.3.项目环境

* 前端：
  * 小程序原生UI
  * 基础库2.26.1
* 后端：
  * java1.8
  * Springboot2.4.4
  * mysql 8.0.28



* GitHub项目地址：https://github.com/lar0129/wechatMiniProgram-BookRecommend
* 演示视频：见目录下

## **2. 使用技术**

###  **2.1. 后端技术**与云服务

* 整体采用Springboot + MybatisPlus 构建后端服务

  * 采用流行的Springboot框架，简化配置难度，无需配置tomcat服务
  * Mybatis-Plus加快开发效率，使用lombok注释和继承基类简化实现增删改查

  

* 采用阿里云ECS服务器 + 阿里云OSS图片储存服务 构建云服务

  * 数十张图片以Url格式储存在阿里云OSS对象储存
    * 使用开源软件PicGo对云对象储存进行管理
  * 本地开发完成后，Xshell远程配置阿里云服务器环境，并上传jar包
    * ![image-20221227120433264](https://lar-blog.oss-cn-nanjing.aliyuncs.com/picGo_img/Typora/typora-user-images/image-20221227120433264.png)

###  **2. 2.前端技术**

* 所有前端组件渲染采用原生小程序前端UI组件。

  * 登录页面，请求获取用户头像和昵称并存入全局变量(因小程序更新问题，基础库需调整为2.26以下...)
    * 此处曾尝试使用点击按钮获取用户头像昵称，但是非常不巧，在2022年的11月9日，为了减少不合理的强迫授权，保护用户隐私，微信小程序官方调整了用户头像昵称的获取规则，收回了wx.getUserProfile 接口和wx.getUserInfo 接口。因此这里只能采用旧版基本库里的wx.getUserProfile授权方法。
  * tabBar原生组件和navigate函数实现基本页面跳转
  * wx:for 减少复制粘贴
* 精心设计页面架构。如网络请求中，服务器url单独放在util工具包中，并将不同实体类分开编写request函数
  * ![image-20221227124629179](https://lar-blog.oss-cn-nanjing.aliyuncs.com/picGo_img/Typora/typora-user-images/image-20221227124629179.png)

## **3. 项目功能**

**具体见视频演示**！ 

###  3.**1. 书籍展示页面**

* 0.启动页面自动获取用户的头像昵称信息，用以后续的发帖与互动。用户点击以启动程序，增加与用户的互动感与小程序的整体感。

* 1.轮播图

  * 首页顶部设置轮播图，自动滚动，图文并茂，介绍了邺侯架、三味书屋、礼记等典故，令用户仿佛身处琅嬛福地。

* 2.名人论读书

  * 下方有培根、朱光潜等先贤论读书之精彩片段，读者可以借鉴前人读书态度方法。

* 3.图书分类索引

  * 有科学、文学、历史、计算机、哲学、艺术等六个门类的书单，点击相应图标可以看到按照入门到进阶到专业的次第推荐。列表列出了书名、封面、作者、简介，书名右侧是其对应难度划分。列表与后端链接，动态更新。

* 4.详情页面

  * 列表中的每本图书均可进入详情页面，这里有自撰的推荐语或评价，亦有网络上对本书的推荐。详情页面与图书一一对应，均通过后端连接，也实现了动态更新。

  ![image-20221227124007687](https://lar-blog.oss-cn-nanjing.aliyuncs.com/picGo_img/Typora/typora-user-images/image-20221227124007687.png)

###   **3.2. 交流空间**

* 从后端获取数据并保存在页面data的article数组里，通过Onshow生命周期函数刷新页面将其展示在界面上。
* 用户可对帖子进行查看和点赞，实时返回查看量和点赞量。
* 采用了合适的布局和样式让贴主信息，帖子内容和点赞等页面的观感提升。

![image-20221227124158046](https://lar-blog.oss-cn-nanjing.aliyuncs.com/picGo_img/Typora/typora-user-images/image-20221227124158046.png)

###  3.**3. 发表评论**

* 1、从一开始单一的封面图片和发表评论，改为采用展示微信个人信息头像和三个分功能按钮。
* 2、实现了用户发表评论、修改签名功能。通过点击相应按钮，跳转到相应的具体界面完成修改。
* 3、可以满足用户查看自己评论的需求，查看自己发表的评论，获得的点赞等情况，以及对自己发表的评论进行删除的管理。  

​               ![img](https://docimg6.docs.qq.com/image/AgAACEUvl3_Q42xB379BOZ-sZKhLJPXb.png?imageMogr2/thumbnail/1600x%3E/ignore-error/1)                        ![img](https://docimg2.docs.qq.com/image/AgAACEUvl3_OSxuC0ihOI69rlijFSGDC.png?imageMogr2/thumbnail/1600x%3E/ignore-error/1)





## 4. 总结反思

### 后端

1.学习了主流的Springboot框架和MybatisPlus框架的使用。了解到环境配置、兼容性的复杂性和重要性。真正涉及逻辑编写的部分反而花费时间最少。

2.体验到微信小程序的审核限制之多。短短几个月，旧的教程已经不适用，登录权限和域名审核都要重新学习:rage:

3.在配置云服务器中，熟悉了linux的基本命令，xshell和oss的使用。顺便给自己的博客也配上oss储存服务。（薅阿里云羊毛）

### 前端

1.学习了前端三件套的基本使用。体会到心里想的和实际敲出来界面的差别。

2.感受到代码复用的重要性。将一个js函数单独提取出来就能极大减少工作量

3.初步感受团队协作的流程。在每一次周会中，我们交流心得的同时互相解决遇到的困难。在前后端对接方面更是遇到了不少问题，因此在实际的开发中，后端前端都需要掌握一部分其他技术栈的基础概念才能更好地实现对接。
